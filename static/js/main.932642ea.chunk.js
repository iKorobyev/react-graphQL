(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(49)},43:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var a,r,o,l,s=n(1),i=n.n(s),c=n(26),u=n.n(c),m=n(33),p=n(32),g=n(27),f=n.n(g),d=n(10),h=n(15),v=n(7),E=(n(42),n(50)),y=(n(43),n(11)),w=n(12),k=n(14),b=n(13),C=n(16),P=n(51),O=n(17),S=n.n(O),j=function(){return i.a.createElement("div",{className:"preloader"},i.a.createElement("div",{className:"loader"}))},I=function(e){Object(k.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={isDefault:!0,isSearch:!1,searchText:"*",cursor:"$afterCursor",queryValue:"Search($afterCursor: String)",page:"after: "},a}return Object(w.a)(n,[{key:"searchButton",value:function(){this.setState(function(){return{isDefault:!1,isSearch:!0,searchText:document.getElementById("searchInput").value}})}},{key:"nextPage",value:function(e){var t=e.toString();this.setState(function(){return{cursor:'"'+t+'"',queryValue:"Search",page:"after: "}})}},{key:"prevPage",value:function(e){var t=e.toString();this.setState(function(){return{cursor:'"'+t+'"',queryValue:"Search",page:"before: "}})}},{key:"render",value:function(){var e=this,t=S()(a||(a=Object(C.a)(["\n    query ",'{\n      search(query: "is:public", type: REPOSITORY, ',", first: 10) {\n    repositoryCount\n    pageInfo {\n      endCursor\n      startCursor\n      hasNextPage\n      hasPreviousPage\n    }\n    nodes {\n      ... on Repository {\n        id\n        name\n        owner {\n          login\n          avatarUrl(size: 10)\n          url\n        }\n      }\n    }\n  }\n}\n  "])),this.state.queryValue,this.state.page+this.state.cursor),n=this.state.searchText,o=S()(r||(r=Object(C.a)(["\n    query ",'{\n      search(query: "','", type: REPOSITORY, ',", first: 10) {\n      repositoryCount\n      pageInfo {\n        endCursor\n        startCursor\n        hasNextPage\n        hasPreviousPage\n      }\n      nodes {\n        ... on Repository {\n        id\n        name\n        owner {\n          login\n          avatarUrl(size: 10)\n          url\n        }\n      }\n    }\n  }\n}\n  "])),this.state.queryValue,n,this.state.page+this.state.cursor);return i.a.createElement(P.a,{query:this.state.isDefault?t:o},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return i.a.createElement(j,null);if(a)return alert(a.massage);var o=r.search;return e.state.isPage?void 0:i.a.createElement("div",{align:"center",className:"reposes"},i.a.createElement("input",{id:"searchInput"}),i.a.createElement(E.a,{color:"success",onClick:function(){return e.searchButton()}},"\u041f\u043e\u0438\u0441\u043a"),i.a.createElement("br",null),r.search.repositoryCount," \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432",o.nodes.map(function(t,n){return i.a.createElement("div",{className:"repo",key:n,onClick:function(){return e.props.set(t.owner.login,t.name,!0)}},i.a.createElement("img",{src:t.owner.avatarUrl,width:"50px",height:"50px",alt:"img",align:"left"}),i.a.createElement("i",null,t.owner.login),i.a.createElement("h1",{align:"right"},t.name))}),o.pageInfo.hasPreviousPage&&i.a.createElement(E.a,{onClick:function(){return e.prevPage(o.pageInfo.startCursor)}},"Prev"),i.a.createElement(E.a,{onClick:function(){return e.nextPage(o.pageInfo.endCursor)}},"Next"))})}}]),n}(s.Component),N=S()(o||(o=Object(C.a)(["\n  query {\n    viewer {\n      id\n      login\n      repositories(first: 10) {\n        nodes {\n          name\n          url\n          owner {\n            login\n            avatarUrl\n          }\n        }\n      }\n    }\n  }\n"]))),q=function(e){Object(k.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={owner:"",name:"",isPage:!1},a}return Object(w.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement(P.a,{query:N},function(t){var n=t.loading,a=t.error,r=t.data;if(n)return i.a.createElement(j,null);if(a)return i.a.createElement("p",null,"\u0412\u0438\u0434\u0438\u043c\u043e, \u0432\u044b \u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d"," ",i.a.createElement(E.a,{color:"primary",onClick:function(){localStorage.setItem("token",prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043a\u0435\u043d","")),window.location.reload()}},"\u0412\u0432\u0435\u0441\u0442\u0438!"));var o=r.viewer.repositories.nodes;return e.state.isPage?void 0:i.a.createElement("div",{align:"center",className:"reposes"},i.a.createElement("h4",null,r.viewer.login),o.map(function(t,n){return i.a.createElement("div",{className:"repo",key:n,onClick:function(){return e.props.set(t.owner.login,t.name,!0)}},i.a.createElement("img",{src:t.owner.avatarUrl,width:"50px",height:"50px",alt:"img",align:"left"}),i.a.createElement("h1",null,t.name))}))})}}]),n}(s.Component),x=function(e){Object(k.a)(n,e);var t=Object(b.a)(n);function n(){return Object(y.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(){var e=this;console.log(this.props);var t=S()(l||(l=Object(C.a)(['\n      query {\n        repository(name: "','", owner: "','") {\n          createdAt\n          updatedAt\n          issues {\n            totalCount\n          }\n          languages(first: 10) {\n            totalCount\n            edges {\n              size\n              node {\n                color\n                name\n              }\n            }\n          }\n          forkCount\n        }\n      }\n    '])),this.props.name,this.props.owner);return i.a.createElement("div",null,i.a.createElement(P.a,{query:t},function(t){var n=t.loading,a=t.error,r=t.data;return n?i.a.createElement(j,null):a?i.a.createElement("p",{align:"center"},"Error! ",a.message):i.a.createElement("div",{align:"center",className:"page"},i.a.createElement(E.a,{className:"close",align:"rigth",onClick:function(){return e.props.set(e.props.name,e.props.owner,!1)}},"x"),i.a.createElement("br",null),i.a.createElement("div",null,"\u0421\u043e\u0437\u0434\u0430\u043d: ",r.repository.createdAt),i.a.createElement("div",null,"\u0418\u0437\u043c\u0435\u043d\u0451\u043d: ",r.repository.updatedAt),i.a.createElement("div",null,"Issues count: ",r.repository.issues.totalCount),i.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0444\u043e\u0440\u043a\u043e\u0432: ",r.repository.forkCount),i.a.createElement("div",null,"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0435 \u044f\u0437\u044b\u043a\u0438:",i.a.createElement("ul",null,r.repository.languages.edges.map(function(e,t){return i.a.createElement("li",{align:"left",key:t,style:{color:e.node.color}},i.a.createElement("div",null,e.node.name)," \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a \u043a\u043e\u0434\u0430:"," ",e.size)}))))}))}}]),n}(s.Component),R=function(e){Object(k.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(y.a)(this,n),(a=t.call(this,e)).state={userRepos:!0,owner:"",name:"",isPage:!1},a}return Object(w.a)(n,[{key:"setIsPage",value:function(e,t,n){this.setState(function(){return{owner:e,name:t,isPage:n}})}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement("br",null),i.a.createElement("div",{align:"center"},i.a.createElement(E.a,{color:"info",className:"pub",onClick:function(){e.setState(function(){return{userRepos:!1}})}},"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438"),i.a.createElement(E.a,{color:"info",className:"user",onClick:function(){e.setState(function(){return{userRepos:!0}})}},"\u0412\u0430\u0448\u0438 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438"),i.a.createElement(E.a,{className:"exit",color:"danger",onClick:function(){localStorage.clear(),window.location.reload()}},"\u0412\u044b\u0439\u0442\u0438"))),this.state.userRepos?i.a.createElement(q,{set:function(t,n,a){return e.setIsPage(t,n,a)}}):i.a.createElement(I,{set:function(t,n,a){return e.setIsPage(t,n,a)}}),this.state.isPage&&i.a.createElement(x,{name:this.state.name,owner:this.state.owner,set:function(t,n,a){return e.setIsPage(t,n,a)}}))}}]),n}(s.Component);var T=new m.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer "+localStorage.getItem("token")}}),z=d.ApolloLink.from([f.a,T]),A=new p.a({logger:console.log,loggerEnabled:!1}),B=new h.c({link:z,cache:A});u.a.render(i.a.createElement(v.a,{client:B},null==localStorage.getItem("token")?i.a.createElement(E.a,{color:"primary",className:"enter",onClick:function(){return localStorage.setItem("token",prompt("\u0412\u0430\u0448 github token: ","")),void window.location.reload()}},"\u0412\u0432\u0435\u0441\u0442\u0438 GitToken"):i.a.createElement(R,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.932642ea.chunk.js.map